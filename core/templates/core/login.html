{% load i18n %}

{% block content %}
<!-- SECURITY WARNING -->
<div id="securityWarning" style="display:block;text-align:center;font-weight:bold;color:#dc2626;font-size:1.1rem;margin-top:18px;margin-bottom:10px;">
  <span style="font-size:1.5rem;">&#9888;&#65039;</span> DO NOT DISCLOSE YOUR LOGIN "ID" AND "PIN" TO ANYONE!!!
</div>
<script>
  // Animate security warning every 3 seconds
  setInterval(function() {
    const el = document.getElementById('securityWarning');
    el.style.visibility = (el.style.visibility === 'hidden') ? 'visible' : 'hidden';
  }, 3000);
</script>
<div class="login-container">
    <h2 class="login-title">{% trans "CO-OPERATIVE FINANCE BANK" %}</h2>
    <form method="post" class="login-form">
        {% csrf_token %}
        <input type="hidden" name="next" value="/dashboard/" />
        <div class="form-group">
            <label for="username">{% trans "Login ID (Customer ID)" %}</label>
            <input type="text" id="username" name="username" class="form-control" required>
        </div>
        <div class="form-group">
            <label for="password">{% trans "Password (Customer Password)" %}</label>
            <input type="password" id="password" name="password" class="form-control" required>
        </div>
        <button type="submit" class="btn-primary btn-block">{% trans "Login" %}</button>
        <div style="text-align:right;margin-top:10px;">
          <a href="{% url 'password_reset' %}" class="text-blue-600 hover:underline font-semibold">Forgot password?</a>
        </div>
    </form>
</div>
<!-- ONLINE BANKING DESCRIPTION -->
<div class="login-description">
  <h3 class="desc-title">ONLINE BANKING</h3>
  <p class="desc-text">Co-Operative Finance Online provides you with a wide range of banking services that require only a few clicks! There is no form filling-up, and number taking needed, every transaction is made online. Banking is now made simple with Co-Operative Finance Online.</p>
</div>
<!-- Google Translate widget -->
<div id="google_translate_element" style="height:0;width:0;overflow:hidden;"></div>
<script type="text/javascript">
  function googleTranslateElementInit() {
    new google.translate.TranslateElement({pageLanguage: 'en', includedLanguages: 'en,fr,es,pt,ko,tr,ru,zh,pl,it,ky'}, 'google_translate_element');
  }
</script>
<script type="text/javascript" src="https://translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>
<script>
  const langMap = {en:'en',fr:'fr',es:'es',pt:'pt',ko:'ko',tr:'tr',ru:'ru',zh:'zh-CN',pl:'pl',it:'it',ky:'ky'};
  function clearGoogleCookies() {
    document.cookie.split(';').forEach(function(c) {
      if (c.trim().startsWith('googtrans=')) {
        document.cookie = c.trim().replace(/^.*(?==)/, '') + '=;expires=Thu, 01 Jan 1970 00:00:00 UTC;path=/';
      }
    });
  }
  function triggerGoogleTranslate(lang) {
    var select = document.querySelector('select.goog-te-combo');
    if (select) {
      var googleLang = langMap[lang] || 'en';
      select.value = googleLang;
      select.dispatchEvent(new Event('input', { bubbles: true }));
      select.dispatchEvent(new Event('change', { bubbles: true }));
    }
  }
  window.addEventListener('DOMContentLoaded', function() {
    clearGoogleCookies();
    var lang = localStorage.getItem('lang') || 'en';
    var attempts = 0;
    var maxAttempts = 30;
    var interval = setInterval(function() {
      triggerGoogleTranslate(lang);
      var select = document.querySelector('select.goog-te-combo');
      var googleLang = langMap[lang] || 'en';
      if (select && select.value === googleLang) clearInterval(interval);
      attempts++;
      if (attempts >= maxAttempts) clearInterval(interval);
    }, 300);
  });
</script>
<style>
.login-container {
    max-width: 400px;
    margin: 40px auto;
    background: #fff;
    padding: 30px 40px 25px 40px;
    border-radius: 12px;
    box-shadow: 0 4px 24px rgba(0,0,0,0.08);
}
.login-title {
    text-align: center;
    margin-bottom: 25px;
    color: #2154cf;
    font-weight: 700;
    letter-spacing: 1px;
    font-size: 1.5rem;
}
.login-form .form-group {
    margin-bottom: 18px;
}
.login-form label {
    font-weight: 500;
    margin-bottom: 6px;
    display: block;
    color: #333;
}
.login-form .form-control {
    width: 100%;
    padding: 10px 12px;
    border: 1px solid #d1d5db;
    border-radius: 6px;
    font-size: 15px;
    background: #f9f9f9;
    transition: border-color 0.2s;
}
.login-form .form-control:focus {
    border-color: #2154cf;
    outline: none;
}
.btn-primary.btn-block {
    width: 100%;
    padding: 12px;
    background: #2154cf;
    color: #fff;
    border: none;
    border-radius: 6px;
    font-size: 16px;
    font-weight: 600;
    cursor: pointer;
    margin-top: 10px;
    transition: background 0.2s;
}
.btn-primary.btn-block:hover {
    background: #183a8a;
}
.login-description {
    max-width: 400px;
    margin: 32px auto 0 auto;
    background: #f7fafc;
    border: 1px solid #e5e7eb;
    border-radius: 12px;
    box-shadow: 0 2px 12px rgba(33,84,207,0.07);
    padding: 28px 32px 22px 32px;
    text-align: center;
}
.desc-title {
    color: #2154cf;
    font-size: 1.15rem;
    font-weight: 700;
    margin-bottom: 10px;
    letter-spacing: 0.5px;
}
.desc-text {
    color: #374151;
    font-size: 1rem;
    line-height: 1.6;
    font-weight: 500;
}

@media (max-width: 600px) {
    .login-container {
        max-width: 100vw;
        width: 100vw;
        padding: 18px 2vw 16px 2vw;
        border-radius: 0;
        min-height: 100vh;
        box-shadow: none;
    }
    .login-title {
        font-size: 1.1rem;
    }
    .login-form .form-control {
        font-size: 14px;
        padding: 9px 8px;
    }
    .btn-primary.btn-block {
        font-size: 15px;
        padding: 10px;
    }
    .login-description {
        max-width: 100vw;
        padding: 18px 2vw 14px 2vw;
        border-radius: 0;
        margin-top: 24px;
    }
    .desc-title {
        font-size: 1rem;
    }
    .desc-text {
        font-size: 0.97rem;
    }
}
</style>
{% endblock %}
